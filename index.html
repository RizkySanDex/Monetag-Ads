<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Ads Responsive Multi-Country</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    font-family: Arial, sans-serif;
    background: #0f172a;
    color: #f1f5f9;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    text-align: center;
  }
  h1 { color: #38bdf8; margin-bottom: 10px; }
  .status { margin: 10px 0; color:#94a3b8; }
  .status span { color:#facc15; font-weight:bold; }
  .banner {
    background: #1e293b;
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 8px;
    margin: 10px 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .leaderboard { width: 100%; max-width: 728px; height: 90px; }
  .rectangle { width: 100%; max-width: 300px; height: 250px; }
  .grid { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; margin-top: 20px; }
  .mobile-banner { width: 100%; max-width: 320px; height: 50px; margin-top:20px; }
</style>
</head>
<body>
<h1>Sponsored Ads</h1>
<div class="status">
  ‚è≥ Refresh dalam: <span id="countdown">30</span> detik &nbsp; &nbsp;
  üîÑ Jumlah refresh: <span id="refreshCount">0</span>
</div>

<!-- Banner 728x90 (Adsterra) -->
<div class="banner leaderboard" id="ad728"></div>

<!-- Grid 2 Banner 300x250 (Adsterra) -->
<div class="grid">
  <div class="banner rectangle" id="ad300a"></div>
  <div class="banner rectangle" id="ad300b"></div>
</div>

<!-- Banner 320x50 (Adsterra) -->
<div class="banner mobile-banner" id="ad320"></div>

<!-- Monetag Banner -->
<div class="banner rectangle" id="monetagBanner">
  <script src="https://fpyf8.com/88/tag.min.js" data-zone="169309" async data-cfasync="false"></script>
</div>

<!-- Monetag Vignette -->
<script>
(function(s){
  s.dataset.zone='9748151';
  s.src='https://groleegni.net/vignette.min.js';
})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))
</script>

<script>
const ads = [
  {id:'ad728', key:'790e3e25b374c71ea2bede25e64dafd1', w:728, h:90},
  {id:'ad300a', key:'276947a635572659f48ea4440c4e25fc', w:300, h:250},
  {id:'ad300b', key:'276947a635572659f48ea4440c4e25fc', w:300, h:250},
  {id:'ad320', key:'a443559ffdea6367477176b606afde09', w:320, h:50}
];

// daftar country acak (example)
const countries = ['US','GB','CA','AU','DE','FR','ID','SG','JP'];

let refreshCount = parseInt(localStorage.getItem('adRefreshCount')) || 0;
let countdown = 30;

const refreshEl = document.getElementById('refreshCount');
const countdownEl = document.getElementById('countdown');

function updateDisplay(){
  countdownEl.textContent = countdown;
  refreshEl.textContent = refreshCount;
}
updateDisplay();

function loadAd(ad){
  const delay = Math.floor(Math.random()*2000) + 500; // delay 0.5-2.5s
  const country = countries[Math.floor(Math.random()*countries.length)];
  console.log(`Load ad ${ad.id} | Delay: ${delay}ms | Country: ${country}`);
  setTimeout(()=>{
    const container = document.getElementById(ad.id);
    container.innerHTML = '';
    const script = document.createElement('script');
    script.type='text/javascript';
    script.src = `//www.highperformanceformat.com/${ad.key}/invoke.js`;
    container.appendChild(script);
  }, delay);
}

// loop semua ads
function refreshAds(){
  ads.forEach(loadAd);
}

const interval = setInterval(()=>{
  countdown--;
  if(countdown <=0){
    refreshCount++;
    localStorage.setItem('adRefreshCount', refreshCount);
    console.log(`--- Refresh #${refreshCount} ---`);
    countdown = 30; // reset countdown
    refreshAds();
  }
  updateDisplay();
}, 1000);

// initial load
refreshAds();
</script>
</body>
</html>
