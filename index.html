<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Ads Extreme Auto Refresh</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body { font-family: Arial; background:#0f172a; color:#f1f5f9; display:flex; flex-direction:column; align-items:center; padding:20px; text-align:center; }
  h1 { color:#38bdf8; margin-bottom:10px; }
  .status { margin:10px 0; color:#94a3b8; }
  .status span { color:#facc15; font-weight:bold; }
  .banner { background:#1e293b; border:1px solid rgba(255,255,255,0.2); border-radius:8px; margin:10px 0; display:flex; justify-content:center; align-items:center; min-height:50px; }
  .leaderboard { width:100%; max-width:728px; height:90px; }
  .rectangle { width:100%; max-width:300px; height:250px; }
  .grid { display:flex; gap:20px; flex-wrap:wrap; justify-content:center; margin-top:20px; }
  .mobile-banner { width:100%; max-width:320px; height:50px; margin-top:20px; }
</style>
</head>
<body>

<h1>Sponsored Ads</h1>
<div class="status">
  ‚è≥ Global Countdown: <span id="countdown">30</span> detik &nbsp;&nbsp;
  üîÑ Total refresh: <span id="totalRefresh">0</span>
</div>

<!-- Adsterra banners -->
<div class="banner leaderboard" id="ad728"></div>
<div class="grid">
  <div class="banner rectangle" id="ad300a"></div>
  <div class="banner rectangle" id="ad300b"></div>
</div>
<div class="banner mobile-banner" id="ad320"></div>

<!-- Monetag banner -->
<div class="banner rectangle">
  <script src="https://fpyf8.com/88/tag.min.js" data-zone="169309" async data-cfasync="false"></script>
</div>

<!-- Monetag Vignette -->
<script>
(function(s){
  s.dataset.zone='9748151';
  s.src='https://groleegni.net/vignette.min.js';
})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')));
</script>

<script>
const countries = ['US','ID','SG','MY','PH','TH','VN','IN'];
const totalRefreshEl = document.getElementById('totalRefresh');
const countdownEl = document.getElementById('countdown');
let totalRefresh = parseInt(localStorage.getItem('totalRefresh')) || 0;
let globalCountdown = 30;

// Helper: inject Adsterra banner
function injectBanner(elId, key, w, h){
  const el = document.getElementById(elId);
  if(!el) return;
  const randCountry = countries[Math.floor(Math.random()*countries.length)];
  const delay = Math.floor(Math.random()*3000); // random delay 0-3s
  console.log(`Inject ${elId} | Country: ${randCountry} | Delay: ${delay}ms`);
  setTimeout(()=>{
    el.innerHTML = `
      <script type="text/javascript">
        atOptions = {
          key:'${key}',
          format:'iframe',
          height:${h},
          width:${w},
          params:{ country:'${randCountry}' }
        };
      <\/script>
      <script type="text/javascript" src="//www.highperformanceformat.com/${key}/invoke.js"><\/script>
    `;
  }, delay);
}

// Individual banner refresh timers
const banners = [
  {id:'ad728', key:'790e3e25b374c71ea2bede25e64dafd1', w:728, h:90, interval: 30000},
  {id:'ad300a', key:'276947a635572659f48ea4440c4e25fc', w:300, h:250, interval: 32000},
  {id:'ad300b', key:'276947a635572659f48ea4440c4e25fc', w:300, h:250, interval: 35000},
  {id:'ad320', key:'a443559ffdea6367477176b606afde09', w:320, h:50, interval: 28000}
];

// Initial injection
banners.forEach(b=>{
  injectBanner(b.id,b.key,b.w,b.h);
  setInterval(()=>{
    totalRefresh++;
    localStorage.setItem('totalRefresh', totalRefresh);
    totalRefreshEl.textContent = totalRefresh;
    console.log(`Refreshing ${b.id} | Total refresh: ${totalRefresh}`);
    injectBanner(b.id,b.key,b.w,b.h);
    // Trigger Vignette Monetag every 10th total refresh
    if(totalRefresh % 10 === 0){
      console.log('Trigger Vignette Monetag via reload');
      location.reload();
    }
  }, b.interval);
});

// Global countdown timer
setInterval(()=>{
  globalCountdown--;
  if(globalCountdown<=0) globalCountdown=30;
  countdownEl.textContent = globalCountdown;
},1000);
</script>

</body>
</html>
